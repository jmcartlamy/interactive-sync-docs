---
id: general
title: General implementation
---

A WebSocket connection with our "Extension Backend Service" (EBS) are required to work with our extension "Interactive Sync".

When you connect, a confirmation is sent by EBS and you will able to send "[User Interface](/docs/getting-started/create-ui)" and to receive others messages.

## Overview

Interactive Sync requires a [WebSocket](https://en.wikipedia.org/wiki/WebSocket) handshake request to establish a connection, for which the server returns a WebSocket handshake response. Only afterwards you will be able to send and receive messages.

### URI

The Uniform resource identifier (URI) is as follows:

1. **Scheme** is `wss` (WebSocket Secure),
2. **Host** is a Azure's website, with a specific subdomain: `interactive-sync-ebs.azurewebsites.net`,
3. A **Query** preceded by a question mark (?) is required with two keyâ€“value pair:
    1. `client_id`, retrieved when you have registered your application,
    2. `access_token`, retrieved when your application user connects with Twitch and gives his authorization, on a URI callback in a fragment preceded by a hash (#).

The complete URI is:

```bash
wss://interactive-sync-ebs.azurewebsites.net/?client_id=<your client ID>&access_token=<an access token>
```

### Get client id

You have to **follow the [prerequisites](/docs/getting-started/prerequisites)** to retrieve a client ID.

### Get access token

To retrieve an access token generated by Twitch, an user of your application have to connect with Twitch to retrieve an user token named `access_token`.

1. To get the authorization page (with your own resources according to the language used), send your user you want to authenticate to [your registered redirect URI](/docs/getting-started/prerequisites#register) and create a call-to-action to:

```bash
GET https://id.twitch.tv/oauth2/authorize
    ?client_id=<your client ID>
    &redirect_uri=<your registered redirect URI>
    &response_type=token
```

There are several required and optional query-string parameters available on the [Twitch Developers Docs](https://dev.twitch.tv/docs/authentication/getting-tokens-oauth#oauth-implicit-code-flow).

2. If user authorizes your application, he is redirected to your redirect URL:

```vim
https://<your registered redirect URI>#access_token=<an access token>
```

The **access token is in the URI in a fragment**. Note that it will not show up in HTTP requests to your server.

### Handshake

Create a WebSocket handshake request with our Extension Backend Service (EBS), **with the URI, your client ID and the access token**.

The server will return a Websocket handshake response followed by a message indicating a "ok" status.

```json
{
    "status": "ok",
    "context": "connection",
    "message": "You are well connected with the channel",
    "data": { "displayName": "XXXXXX", "channelId": "XXXXXXX" }
}
```

Find out more about [WebSocket](/docs/websocket) on the dedicated page.

### Send messages

Once the connection is established, you can **send messages to our EBS in stringify JavaScript Object Notation (JSON**). Each message sent results in a positive response or negative response with the reason for the failure.

Try it with this example layout:

```json
{
    "context": "user_interface",
    "data": {
        "id": "1"
    }
}
```

With "[User Interface](/docs/user-interface/root)", you can use all available components or events in the extension.
